{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "urn:platform:module:003:tenant_params",
  "title": "Google Search Pages - Tenant Parameters",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "queries": {
      "type": "array",
      "title": "Search queries (up to 5)",
      "description": "List of full search request strings. The module runs up to one Google Custom Search request per query string. Example: [\"federal reserve inflation outlook\", \"tesla FSD data valuation\"].",
      "minItems": 1,
      "maxItems": 5,
      "items": {
        "type": "string",
        "minLength": 1,
        "maxLength": 256
      }
    },
    "max_items_per_query": {
      "type": "integer",
      "title": "Max items per query (requested)",
      "description": "Requested max results per query (hard-capped at 100 per query). The module always pages by 10 results until it reaches the cap or runs out of results.",
      "minimum": 1,
      "maximum": 100,
      "default": 100,
      "examples": [
        50,
        100
      ]
    },
    "safe": {
      "type": "string",
      "title": "SafeSearch",
      "description": "SafeSearch filtering. ENUM: active, off. Default active.",
      "enum": [
        "active",
        "off"
      ],
      "default": "active"
    },
    "date_restrict": {
      "type": [
        "string",
        "null"
      ],
      "title": "Date restrict",
      "description": "Optional relative date window. Pattern: d[number], w[number], m[number], y[number]. Example: d7 for last 7 days.",
      "pattern": "^(d|w|m|y)\\d+$",
      "default": null
    },
    "hl": {
      "type": [
        "string",
        "null"
      ],
      "title": "Host language (hl)",
      "description": "Optional UI language code (e.g., en, es, ru).",
      "minLength": 2,
      "maxLength": 16,
      "default": null
    },
    "lr": {
      "type": [
        "string",
        "null"
      ],
      "title": "Language restrict (lr)",
      "description": "Optional document language restriction. Example values: lang_en, lang_ru.",
      "default": null
    },
    "gl": {
      "type": [
        "string",
        "null"
      ],
      "title": "Geolocation (gl)",
      "description": "Optional two-letter country code for geolocation boosting (e.g., us, gb).",
      "pattern": "^[a-z]{2}$",
      "default": null
    },
    "cr": {
      "type": [
        "string",
        "null"
      ],
      "title": "Country restrict (cr)",
      "description": "Optional country restriction expression (e.g., countryUS).",
      "default": null
    },
    "exact_terms": {
      "type": [
        "string",
        "null"
      ],
      "title": "Exact terms",
      "description": "Optional phrase that must appear in results.",
      "maxLength": 256,
      "default": null
    },
    "exclude_terms": {
      "type": [
        "string",
        "null"
      ],
      "title": "Exclude terms",
      "description": "Optional terms to exclude from results.",
      "maxLength": 256,
      "default": null
    },
    "or_terms": {
      "type": [
        "string",
        "null"
      ],
      "title": "OR terms",
      "description": "Optional OR terms; each result must contain at least one of these terms.",
      "maxLength": 256,
      "default": null
    },
    "hq": {
      "type": [
        "string",
        "null"
      ],
      "title": "HQ terms (AND append)",
      "description": "Optional terms that are AND-appended to the query.",
      "maxLength": 256,
      "default": null
    },
    "file_type": {
      "type": [
        "string",
        "null"
      ],
      "title": "File type",
      "description": "Optional file extension restriction (e.g., pdf).",
      "maxLength": 16,
      "default": null
    },
    "filter_duplicates": {
      "type": "boolean",
      "title": "Filter duplicates (Google-level)",
      "description": "Google duplicate content filter. True => filter=1.",
      "default": true
    },
    "rights": {
      "type": [
        "string",
        "null"
      ],
      "title": "Rights / license filter",
      "description": "Optional licensing filter string.",
      "default": null
    },
    "site_search": {
      "type": [
        "string",
        "null"
      ],
      "title": "Site search",
      "description": "Optional site to include or exclude (use with site_search_filter). Example: reuters.com.",
      "maxLength": 256,
      "default": null
    },
    "site_search_filter": {
      "type": [
        "string",
        "null"
      ],
      "title": "Site search filter",
      "description": "If site_search is set: ENUM i=include, e=exclude.",
      "enum": [
        "i",
        "e",
        null
      ],
      "default": null
    },
    "link_site": {
      "type": [
        "string",
        "null"
      ],
      "title": "Link site",
      "description": "Optional: all results should link to this URL.",
      "maxLength": 1024,
      "default": null
    },
    "low_range": {
      "type": [
        "string",
        "null"
      ],
      "title": "Low range",
      "description": "Optional numeric low range appended to query with high_range.",
      "maxLength": 32,
      "default": null
    },
    "high_range": {
      "type": [
        "string",
        "null"
      ],
      "title": "High range",
      "description": "Optional numeric high range appended to query with low_range.",
      "maxLength": 32,
      "default": null
    },
    "sort": {
      "type": [
        "string",
        "null"
      ],
      "title": "Sort",
      "description": "Optional sort expression (engine-dependent).",
      "maxLength": 128,
      "default": null
    },
    "dedupe": {
      "type": "object",
      "title": "Deduplication",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Deduplicate by canonical URL across all queries within the run.",
          "default": true
        },
        "strip_tracking_params": {
          "type": "boolean",
          "description": "Remove common tracking query parameters (utm_*, gclid, fbclid) before dedupe.",
          "default": true
        }
      },
      "default": {
        "enabled": true,
        "strip_tracking_params": true
      }
    }
  },
  "required": [
    "queries"
  ]
}
