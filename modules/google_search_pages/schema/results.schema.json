{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "urn:platform:module:__MODULE_ID__:output:results",
  "title": "__MODULE_ID__ Google Search Pages - Normalized Result",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "module_id": {
      "type": "string",
      "pattern": "^\\d{3}$"
    },
    "tenant_id": {
      "type": "string",
      "minLength": 1
    },
    "run_id": {
      "type": "string",
      "minLength": 1
    },
    "query": {
      "type": "string",
      "minLength": 1
    },
    "query_index": {
      "type": "integer",
      "minimum": 0,
      "maximum": 4
    },
    "page_start": {
      "type": "integer",
      "minimum": 1,
      "maximum": 91
    },
    "rank_in_page": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10
    },
    "rank_global": {
      "type": "integer",
      "minimum": 1,
      "maximum": 100
    },
    "title": {
      "type": "string"
    },
    "link": {
      "type": "string",
      "format": "uri"
    },
    "display_link": {
      "type": "string"
    },
    "snippet": {
      "type": "string"
    },
    "formatted_url": {
      "type": [
        "string",
        "null"
      ]
    },
    "mime": {
      "type": [
        "string",
        "null"
      ]
    },
    "file_format": {
      "type": [
        "string",
        "null"
      ]
    },
    "dedupe": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "canonical_url": {
          "type": "string",
          "format": "uri"
        },
        "dedupe_key": {
          "type": "string",
          "minLength": 8
        },
        "is_duplicate": {
          "type": "boolean"
        },
        "duplicate_of_dedupe_key": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "required": [
        "enabled",
        "canonical_url",
        "dedupe_key",
        "is_duplicate",
        "duplicate_of_dedupe_key"
      ]
    },
    "request_params": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "safe": {
          "type": "string",
          "enum": [
            "active",
            "off"
          ]
        },
        "date_restrict": {
          "type": [
            "string",
            "null"
          ]
        },
        "hl": {
          "type": [
            "string",
            "null"
          ]
        },
        "lr": {
          "type": [
            "string",
            "null"
          ]
        },
        "gl": {
          "type": [
            "string",
            "null"
          ]
        },
        "cr": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "required": [
        "safe",
        "date_restrict",
        "hl",
        "lr",
        "gl",
        "cr"
      ]
    },
    "retrieved_at": {
      "type": "string",
      "format": "date-time"
    }
  },
  "required": [
    "module_id",
    "tenant_id",
    "run_id",
    "query",
    "query_index",
    "page_start",
    "rank_in_page",
    "rank_global",
    "title",
    "link",
    "display_link",
    "snippet",
    "dedupe",
    "request_params",
    "retrieved_at"
  ]
}