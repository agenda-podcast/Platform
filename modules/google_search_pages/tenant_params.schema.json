{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "urn:platform:module:__MODULE_ID__:tenant_params",
  "title": "__MODULE_ID__ Google Search Pages - Tenant Parameters",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "queries": {
      "type": "array",
      "title": "Search queries (up to 5)",
      "description": "List of full search request strings. The module runs up to one Google Custom Search request per query string.",
      "minItems": 1,
      "maxItems": 5,
      "items": {
        "type": "string",
        "minLength": 1,
        "maxLength": 256,
        "examples": [
          "federal reserve inflation outlook",
          "tesla FSD data valuation",
          "jpmorgan payments api product strategy"
        ]
      }
    },
    "max_items_per_query": {
      "type": "integer",
      "title": "Max items per query (requested)",
      "description": "Requested max results per query. Effective cap is 100 per query due to API pagination limit.",
      "minimum": 1,
      "maximum": 1000,
      "default": 50,
      "examples": [
        50,
        100,
        800
      ]
    },
    "safe": {
      "type": "string",
      "title": "SafeSearch",
      "description": "SafeSearch filtering. Default active; tenant may set off.",
      "enum": [
        "active",
        "off"
      ],
      "default": "active",
      "examples": [
        "active",
        "off"
      ]
    },
    "date_restrict": {
      "type": [
        "string",
        "null"
      ],
      "title": "Date restrict",
      "description": "Optional relative date window: d[number], w[number], m[number], y[number]. Example: d7 for last 7 days.",
      "pattern": "^(d|w|m|y)\\d+$",
      "default": null,
      "examples": [
        "d3",
        "d7",
        "w2",
        null
      ]
    },
    "hl": {
      "type": [
        "string",
        "null"
      ],
      "title": "Host language (hl)",
      "description": "Optional UI language code (e.g., en, es, ru).",
      "minLength": 2,
      "maxLength": 16,
      "default": null,
      "examples": [
        "en",
        "ru",
        null
      ]
    },
    "lr": {
      "type": [
        "string",
        "null"
      ],
      "title": "Language restrict (lr)",
      "description": "Optional document language restriction (e.g., lang_en, lang_ru).",
      "default": null,
      "examples": [
        "lang_en",
        "lang_ru",
        null
      ]
    },
    "gl": {
      "type": [
        "string",
        "null"
      ],
      "title": "Geolocation (gl)",
      "description": "Optional two-letter country code for geolocation boosting (e.g., us, gb).",
      "pattern": "^[a-z]{2}$",
      "default": null,
      "examples": [
        "us",
        "gb",
        null
      ]
    },
    "cr": {
      "type": [
        "string",
        "null"
      ],
      "title": "Country restrict (cr)",
      "description": "Optional country restriction expression (e.g., countryUS).",
      "default": null,
      "examples": [
        "countryUS",
        "countryGB",
        null
      ]
    },
    "exact_terms": {
      "type": [
        "string",
        "null"
      ],
      "title": "Exact terms",
      "description": "Optional phrase that must appear in results.",
      "maxLength": 256,
      "default": null,
      "examples": [
        "earnings call",
        null
      ]
    },
    "exclude_terms": {
      "type": [
        "string",
        "null"
      ],
      "title": "Exclude terms",
      "description": "Optional terms to exclude from results.",
      "maxLength": 256,
      "default": null,
      "examples": [
        "rumor",
        null
      ]
    },
    "or_terms": {
      "type": [
        "string",
        "null"
      ],
      "title": "OR terms",
      "description": "Optional OR terms; each result must contain at least one of these terms.",
      "maxLength": 256,
      "default": null,
      "examples": [
        "lawsuit settlement",
        null
      ]
    },
    "hq": {
      "type": [
        "string",
        "null"
      ],
      "title": "HQ terms (AND append)",
      "description": "Optional terms that are AND-appended to the query.",
      "maxLength": 256,
      "default": null,
      "examples": [
        "official statement",
        null
      ]
    },
    "file_type": {
      "type": [
        "string",
        "null"
      ],
      "title": "File type",
      "description": "Optional file extension restriction (e.g., pdf).",
      "maxLength": 16,
      "default": null,
      "examples": [
        "pdf",
        null
      ]
    },
    "filter_duplicates": {
      "type": "boolean",
      "title": "Filter duplicates (Google-level)",
      "description": "Google duplicate content filter. True => filter=1.",
      "default": true,
      "examples": [
        true,
        false
      ]
    },
    "rights": {
      "type": [
        "string",
        "null"
      ],
      "title": "Rights / license filter",
      "description": "Optional licensing filter string.",
      "default": null,
      "examples": [
        "cc_attribute,cc_sharealike",
        null
      ]
    },
    "site_search": {
      "type": [
        "string",
        "null"
      ],
      "title": "Site search",
      "description": "Optional site to include or exclude (use with site_search_filter).",
      "maxLength": 256,
      "default": null,
      "examples": [
        "reuters.com",
        null
      ]
    },
    "site_search_filter": {
      "type": [
        "string",
        "null"
      ],
      "title": "Site search filter",
      "description": "If site_search is set: i=include, e=exclude.",
      "enum": [
        "i",
        "e",
        null
      ],
      "default": null,
      "examples": [
        "e",
        "i",
        null
      ]
    },
    "link_site": {
      "type": [
        "string",
        "null"
      ],
      "title": "Link site",
      "description": "Optional: all results should link to this URL.",
      "maxLength": 1024,
      "default": null,
      "examples": [
        "https://www.federalreserve.gov",
        null
      ]
    },
    "low_range": {
      "type": [
        "string",
        "null"
      ],
      "title": "Low range",
      "description": "Optional numeric low range appended to query with high_range.",
      "maxLength": 32,
      "default": null,
      "examples": [
        "2024",
        null
      ]
    },
    "high_range": {
      "type": [
        "string",
        "null"
      ],
      "title": "High range",
      "description": "Optional numeric high range appended to query with low_range.",
      "maxLength": 32,
      "default": null,
      "examples": [
        "2025",
        null
      ]
    },
    "sort": {
      "type": [
        "string",
        "null"
      ],
      "title": "Sort",
      "description": "Optional sort expression (engine-dependent).",
      "maxLength": 128,
      "default": null,
      "examples": [
        "date",
        null
      ]
    },
    "dedupe": {
      "type": "object",
      "title": "Deduplication",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Deduplicate by canonical URL across all queries within the run.",
          "default": true
        },
        "strip_tracking_params": {
          "type": "boolean",
          "description": "Remove common tracking query parameters (utm_*, gclid, fbclid) before dedupe.",
          "default": true
        }
      },
      "default": {
        "enabled": true,
        "strip_tracking_params": true
      }
    }
  },
  "required": [
    "queries"
  ]
}